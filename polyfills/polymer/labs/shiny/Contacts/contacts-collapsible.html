<link rel="import" href="../../../polymer-elements/polymer-flex-layout/polymer-flex-layout.html">
<link rel="import" href="../../../polymer-elements/polymer-collapse/polymer-collapse.html">
<link rel="import" href="../../../polymer-ui-elements/polymer-ui-icon-button/polymer-ui-icon-button.html">
<polymer-element name="contacts-collapsible" attributes="active">
	<template>
		<style>
			@host {
				:scope {
					display: block;
					padding: 0;
					font-weight: bold;
					cursor: pointer;
				}
			}
			#header {
				border-bottom: 1px solid rgba(64, 64, 64, 0.14);
				background-color: #fff;
			}
			#collapsedIcon {
				float: right;
				margin: 5px !important;
				-moz-transform: rotate(270deg);
				-webkit-transform: rotate(270deg);
				transform: rotate(270deg);
			}
			#collapsedIcon.active {
				-moz-transform: rotate(0deg);
				-webkit-transform: rotate(0deg);
				transform: rotate(0deg);
			}
		</style>
		<div id="header" on-tap="headerTap">
			<polymer-flex-layout align="center"></polymer-flex-layout>
			<div flex>
				<content select=".polymer-ui-collapsible-header"></content>
			</div>
			<polymer-ui-icon-button id="collapsedIcon" icon="dropdown" class="{{active: active}}"></polymer-ui-icon-button>
		</div>
		<div id="collapsibleBody" on-tap="bodyTap">
			<content></content>
		</div>
		<polymer-collapse targetId="collapsibleBody" closed="{{!active}}"></polymer-collapse>
	</template>
	<script>
		Polymer('contacts-collapsible', {
			active: false,
			toggle: function() {
				this.active = !this.active;
			},
			headerTap: function() {
				this.toggle();
			},
			bodyTap: function(e) {
				e.stopPropagation();
			}
		});
	</script>
</polymer-element>
